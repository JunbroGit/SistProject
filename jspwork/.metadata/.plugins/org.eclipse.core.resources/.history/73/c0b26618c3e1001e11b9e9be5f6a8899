<%@page import="java.text.SimpleDateFormat"%>
<%@page import="simpleboard.model.SimpleBoardDto"%>
<%@page import="java.util.List"%>
<%@page import="simpleboard.model.SimpleBoardDao"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Dongle&family=Gaegu&family=Nanum+Myeongjo&family=Nanum+Pen+Script&family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.7.0.js"></script>
<title>Insert title here</title>
<style type="text/css">
	a:link ,a:visited{
		text-decoration: none;
		color: black;
	}
	
	a:hover{
		text-decoration: underline;
		color: gray;
	}
	
	body *{
		font-family: 'Gaegu';
		font-size: 1.3em;
	}
</style>
</head>
<%
	SimpleBoardDao dao=new SimpleBoardDao();
	List<SimpleBoardDto>list=dao.getAllDatas();
	SimpleDateFormat sdf=new SimpleDateFormat("yyyy-MM-dd HH:mm");
	int count=list.size();
%>
<body>
<div style="margin: 50px 100px; width: 800px;">
	<button type="button" class="btn btn-info" onclick="location.href='addForm.jsp'" style="margin-left: 550px;">글쓰기</button>
	<br>
	<h6><b>총<%=list.size() %>개의 글이 있습니다</b></h6>
	<table class="table table-boerdered">
		<caption align="top"><b>간단목록게시판</b></caption>
		<tr class="table-light">
			<th width="80">번호</th>
			<th width="350">제목</th>
			<th width="180">작성자</th>
			<th width="180">작성일</th>
			<th width="80">조회</th>
		</tr>
		
		<%
			if(count==0)
			{%>
					<tr>
						<td colspan="5" align="center">
							<h6><b>등록된 게시글이 없습니다</b></h6>
						</td>
					</tr>
			<%}else{
				for(int i=0;i<list.size();i++)
				{
					SimpleBoardDto dto=list.get(i);
					%>
					<tr>
						<td align="center"><%=count-i %></td>
						<td>
							<a href="contentView.jsp?num=<%=dto.getNum()%>">
								<%=dto.getSubject() %>
							</a>
						</td>
						<td><%=dto.getWriter() %></td>
						<td><%=sdf.format(dto.getWriteday()) %></td>
						<td><%=dto.getReadcount() %></td>
					</tr>
				<%}
			}
		%>
	</table>
</div>
</body>
</html>